flowchart TB

ST -->|device/printer/-ID-/progress| PrinterMon

APIGW o--o|HTTP: get| TempGlobal

TempSensor -->|device/room/temperature| TempGlobal
TempSensor -->|device/room/temperature| Anomaly

GUI["🧑‍💻 User Interface (GUI)"]
Robot["🤖 ROB Robot"]
Fan["💨 Fan Unit"]
PrinterMon["🖨 Printer Monitoring"]
ST["🧱 ST Printer"]
APIGW["🛰 API Gateway"]
QueueMgr["📋 Priority Queue Manager"]
TempGlobal["🌡 Global Temperature"]
JobHandler["🧠 Job Handler"]
Planning["🧭 Robot Management"]
Anomaly["⚠️ Anomaly Detection"]
FanCtrl["🌀 Fan Controller"]
TempSensor["🌡 Room Temp Sensor"]

ST -->|device/printer/-ID-/temperature| TempGlobal
ST -->|device/printer/-ID-/temperature| Anomaly

TempGlobal -->|device/fan/controller/status| FanCtrl
Anomaly -->|device/fan/controller/emergency| FanCtrl
FanCtrl -->|device/fan/-ID-/speed| Fan

GUI o--o|HTTP| APIGW
APIGW o--o|HTTP: get, post, delete, put| QueueMgr
APIGW o--o|HTTP: get| PrinterMon
QueueMgr o--o|HTTP: get, delete| JobHandler

JobHandler -->|device/printers| Planning
Planning <-->|down:-> device/robot/-ID-/coordinates
up:-> device/robot/-ID-/progress| Robot
Robot -->|device/robot/-ID-/progress| JobHandler

JobHandler -->|device/printer/-ID-/assignement| ST